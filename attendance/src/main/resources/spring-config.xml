<?xml version="1.0" encoding="UTF-8"?>
<beans>

 <bean id="DataSource.default" class="org.beangle.commons.jndi.JndiDataSourceFactory">
  <constructor-arg value="jdbc/security"/>
 </bean>

 <bean id="HibernateConfig.default">
  <property name="properties">
   <props merge="true">
    <prop key="hibernate.show_sql">true</prop>
    <!-- <prop key="hibernate.hbm2ddl.auto">update</prop>
    <prop key="hibernate.default_schema">security</prop>-->
    <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQL82Dialect</prop>
   </props>
  </property>
 </bean>
 
  <bean id="properties">
    <property name="value">
      <value>
        security.cas.server=http://portal.shfc.edu.cn/cas
      </value>
    </property>
  </bean>
  
  <bean id="org.beangle.security.web.access.SecurityFilter">
    <constructor-arg>
      <list>
        <ref bean="org.beangle.security.realm.cas.CasPreauthFilter"/>
        <ref bean="org.openurp.webapp.apps.teach.attendance.HttpMethodPermissionFilter"/>
      </list>
    </constructor-arg>
    <constructor-arg value="?" />
    <constructor-arg value="?" />
    <constructor-arg value="?" />
  </bean>
  
  <bean id="org.beangle.security.authc.RealmAuthenticator">
    <constructor-arg>
      <list>
        <ref bean="org.beangle.security.realm.cas.DefaultCasRealm"/>
        <ref bean="org.beangle.security.blueprint.service.internal.DaoUserRealm"/>
      </list>
    </constructor-arg>
  </bean>
  
  <bean id="org.beangle.security.realm.cas.CasEntryPoint" class="org.beangle.security.web.EntryPoint" primary="true"/>
  <bean id="org.beangle.security.realm.cas.vendor.NeusoftCasTicketValidator" class="org.beangle.security.realm.cas.TicketValidator" primary="true"/>
</beans>
